<?php
/**
 * This object is meant to help with various country naming conventions and do the conversions programmatically.
 */
class CountryString
{
	protected $stateAbbreviations = [
			'US' => ["AL" => "Alabama", "AK" => "Alaska", "AS" => "American Samoa", "AZ" => "Arizona", "AR" => "Arkansas", "AE-A" => "Armed Forces Africa", "AA" => "Armed Forces Americas", "AE-C" => "Armed Forces Canada", "AE-E" => "Armed Forces Europe", "AE-M" => "Armed Forces Middle East", "AP" => "Armed Forces Pacific", "CA" => "California", "CO" => "Colorado", "CT" => "Connecticut", "DE" => "Delaware", "DC" => "District of Columbia", "FM" => "Federated States of Micronesia", "FL" => "Florida", "GA" => "Georgia", "GU" => "Guam", "HI" => "Hawaii", "ID" => "Idaho", "IL" => "Illinois", "IN" => "Indiana", "IA" => "Iowa", "KS" => "Kansas", "KY" => "Kentucky", "LA" => "Louisiana", "ME" => "Maine", "MD" => "Maryland", "MA" => "Massachusetts", "MI" => "Michigan", "MN" => "Minnesota", "MS" => "Mississippi", "MO" => "Missouri", "MT" => "Montana", "NE" => "Nebraska", "NV" => "Nevada", "NH" => "New Hampshire", "NJ" => "New Jersey", "NM" => "New Mexico", "NY" => "New York", "NC" => "North Carolina", "ND" => "North Dakota", "MP" => "Northern Mariana Islands", "OH" => "Ohio", "OK" => "Oklahoma", "OR" => "Oregon", "PA" => "Pennsylvania", "PR" => "Puerto Rico", "MH" => "Republic of Marshall Islands", "RI" => "Rhode Island", "SC" => "South Carolina", "SD" => "South Dakota", "TN" => "Tennessee", "TX" => "Texas", "UT" => "Utah", "VT" => "Vermont", "VI" => "Virgin Islands of the U.S.", "VA" => "Virginia", "WA" => "Washington", "WV" => "West Virginia", "WI" => "Wisconsin", "WY" => "Wyoming"],
			'CA' => ["AB" => "Alberta", "BC" => "British Columbia", "MB" => "Manitoba", "NB" => "New Brunswick", "NL" => "Newfoundland and Labrador", "NT" => "Northwest Territories", "NS" => "Nova Scotia", "NU" => "Nunavut", "ON" => "Ontario", "PE" => "Prince Edward Island", "QC" => "Quebec", "SK" => "Saskatchewan", "YT" => "Yukon"],

	];
	protected $stateISOCodes = [
        'US' => ["US-AL" => "Alabama", "US-AK" => "Alaska", "US-AS" => "American Samoa", "US-AZ" => "Arizona", "US-AR" => "Arkansas", "AE-A" => "Armed Forces Africa", "AA" => "Armed Forces Americas", "AE-C" => "Armed Forces Canada", "AE-E" => "Armed Forces Europe", "AE-M" => "Armed Forces Middle East", "AP" => "Armed Forces Pacific", "US-CA" => "California", "US-CO" => "Colorado", "US-CT" => "Connecticut", "US-DE" => "Delaware", "US-DC" => "District of Columbia", "FM" => "Federated States of Micronesia", "US-FL" => "Florida", "US-GA" => "Georgia", "US-GU" => "Guam", "US-HI" => "Hawaii", "US-ID" => "Idaho", "US-IL" => "Illinois", "US-IN" => "Indiana", "US-IA" => "Iowa", "US-KS" => "Kansas", "US-KY" => "Kentucky", "US-LA" => "Louisiana", "US-ME" => "Maine", "US-MD" => "Maryland", "US-MA" => "Massachusetts", "US-MI" => "Michigan", "US-MN" => "Minnesota", "US-MS" => "Mississippi", "US-MO" => "Missouri", "US-MT" => "Montana", "US-NE" => "Nebraska", "US-NV" => "Nevada", "US-NH" => "New Hampshire", "US-NJ" => "New Jersey", "US-NM" => "New Mexico", "US-NY" => "New York", "US-NC" => "North Carolina", "US-ND" => "North Dakota", "US-MP" => "Northern Mariana Islands", "US-OH" => "Ohio", "US-OK" => "Oklahoma", "US-OR" => "Oregon", "US-PA" => "Pennsylvania", "US-PR" => "Puerto Rico", "MH" => "Republic of Marshall Islands", "US-RI" => "Rhode Island", "US-SC" => "South Carolina", "US-SD" => "South Dakota", "US-TN" => "Tennessee", "US-TX" => "Texas", "US-UT" => "Utah", "US-VT" => "Vermont", "US-VI" => "Virgin Islands of the U.S.", "US-VA" => "Virginia", "US-WA" => "Washington", "US-WV" => "West Virginia", "US-WI" => "Wisconsin", "US-WY" => "Wyoming"],
        'CA' => ["CA-AB" => "Alberta", "CA-BC" => "British Columbia", "CA-MB" => "Manitoba", "CA-NB" => "New Brunswick", "CA-NL" => "Newfoundland and Labrador", "CA-NT" => "Northwest Territories", "CA-NS" => "Nova Scotia", "CA-NU" => "Nunavut", "CA-ON" => "Ontario", "CA-PE" => "Prince Edward Island", "CA-QC" => "Quebec", "CA-SK" => "Saskatchewan", "CA-YT" => "Yukon"],
        'AU' => ["AU-ACT" => "Australian Capital Territory", "AU-NSW" => "New South Wales", "AU-NT" => "Northern Territory", "AU-QLD" => "Queensland", "AU-SA" => "South Australia", "AU-TAS" => "Tasmania", "AU-VIC" => "Victoria", "AU-WA" => "Western Australia",],
		'GB' => ["GB-ABE" => "Aberdeen City","GB-ABD" => "Aberdeenshire",                         "GB-ANS" => "Angus",                         "GB-ANT" => "Antrim",                         "GB-ARD" => "Ards",                         "GB-AGB" => "Argyll and Bute",                         "GB-ARM" => "Armagh, County of",                         "GB-BLA" => "Ballymena",                         "GB-BLY" => "Ballymoney",                         "GB-BNB" => "Banbridge",                         "GB-BDG" => "Barking and Dagenham",                         "GB-BNE" => "Barnet",                         "GB-BNS" => "Barnsley",                         "GB-BAS" => "Bath and North East Somerset",                         "GB-BBO" => "Bedford Borough",                         "GB-BDF" => "Bedfordshire",                         "GB-BFS" => "Belfast",                         "GB-BEX" => "Bexley",                         "GB-BIR" => "Birmingham",                         "GB-BBD" => "Blackburn with Darwen",                         "GB-BPL" => "Blackpool",                         "GB-BGW" => "Blaenau Gwent",                         "GB-BOL" => "Bolton",                         "GB-BMH" => "Bournemouth",                         "GB-BRC" => "Bracknell Forest",                         "GB-BRD" => "Bradford",                         "GB-BEN" => "Brent",                         "GB-BGE" => "Bridgend",                         "GB-BNH" => "Brighton and Hove",                         "GB-BST" => "Bristol, City of",                         "GB-BRY" => "Bromley",                         "GB-BUC" => "Buckingham",                         "GB-BKM" => "Buckinghamshire",                         "GB-BUR" => "Bury",                         "GB-CAY" => "Caerphilly",                         "GB-CLD" => "Calderdale",                         "GB-CAM" => "Cambridgeshire",                         "GB-CMD" => "Camden",                         "GB-CRF" => "Cardiff",                         "GB-CMN" => "Carmarthenshire",                         "GB-CKF" => "Carrickfergus",                         "GB-CSR" => "Castlereagh",                         "GB-CGN" => "Ceredigion",                         "GB-CHS" => "Cheshire",                         "GB-CHE" => "Cheshire East",                         "GB-CWC" => "Cheshire West and Chester",                         "GB-CLK" => "Clackmannanshire",                         "GB-CLR" => "Coleraine",                         "GB-CWY" => "Conwy",                         "GB-CKT" => "Cookstown",                         "GB-CON" => "Cornwall",                         "GB-COV" => "Coventry",                         "GB-CGV" => "Craigavon",                         "GB-CRY" => "Croydon",                         "GB-CMA" => "Cumbria",                         "GB-DAL" => "Darlington",                         "GB-DEN" => "Denbighshire",                         "GB-DER" => "Derby",                         "GB-DBY" => "Derbyshire",                         "GB-DRY" => "Derry",                         "GB-DEV" => "Devon",                         "GB-DNC" => "Doncaster",                         "GB-DOR" => "Dorset",                         "GB-DOW" => "Down",                         "GB-DUD" => "Dudley",                         "GB-DGY" => "Dumfries and Galloway",                         "GB-DND" => "Dundee City",                         "GB-DGN" => "Dungannon",                         "GB-DUR" => "Durham, County of",                         "GB-EAL" => "Ealing",                         "GB-EAY" => "East Ayrshire",                         "GB-EDU" => "East Dunbartonshire",                         "GB-ELN" => "East Lothian",                         "GB-ERW" => "East Renfrewshire",                         "GB-ERY" => "East Riding of Yorkshire",                         "GB-ESX" => "East Sussex",                         "GB-EDH" => "Edinburgh, City of",                         "GB-ELS" => "Eilean Siar",                         "GB-ENF" => "Enfield",                         "GB-ESS" => "Essex",                         "GB-FAL" => "Falkirk",                         "GB-FER" => "Fermanagh, County of",                         "GB-FIF" => "Fife",                         "GB-FLN" => "Flintshire",                         "GB-GAT" => "Gateshead",                         "GB-GLG" => "Glasgow City",                         "GB-GLS" => "Gloucestershire",                         "GB-GLO" => "Greater London",                         "GB-GRE" => "Greenwich",                         "GB-GGY" => "Guernsey",                         "GB-GWN" => "Gwynedd",                         "GB-HCK" => "Hackney",                         "GB-HAL" => "Halton",                         "GB-HMF" => "Hammersmith and Fulham",                         "GB-HAM" => "Hampshire",                         "GB-HRY" => "Haringey",                         "GB-HRW" => "Harrow",                         "GB-HPL" => "Hartlepool",                         "GB-HAV" => "Havering",                         "GB-HEF" => "Herefordshire, County of",                         "GB-HTF" => "Hertford",                         "GB-HRT" => "Hertfordshire",                         "GB-HLD" => "Highland",                         "GB-HIL" => "Hillingdon",                         "GB-HNS" => "Hounslow",                         "GB-IVC" => "Inverclyde",                         "GB-AGY" => "Isle of Anglesey",                         "GB-IOM" => "Isle of Man",                         "GB-IOW" => "Isle of Wight",                         "GB-IOS" => "Isles of Scilly",                         "GB-ISL" => "Islington",                         "GB-JEY" => "Jersey",                         "GB-KEC" => "Kensington and Chelsea",                         "GB-KEN" => "Kent",                         "GB-KHL" => "Kingston upon Hull, City of",                         "GB-KTT" => "Kingston upon Thames",                         "GB-KIR" => "Kirklees",                         "GB-KWL" => "Knowsley",                         "GB-LBH" => "Lambeth",                         "GB-LAN" => "Lancashire",                         "GB-LRN" => "Larne",                         "GB-LDS" => "Leeds",                         "GB-LCE" => "Leicester",                         "GB-LEC" => "Leicestershire",                         "GB-LEW" => "Lewisham",                         "GB-LMV" => "Limavady",                         "GB-LIN" => "Lincolnshire",                         "GB-LSB" => "Lisburn",                         "GB-LIV" => "Liverpool",                         "GB-LND" => "London, City of",                         "GB-LUT" => "Luton",                         "GB-MFT" => "Magherafelt",                         "GB-MAN" => "Manchester",                         "GB-MDW" => "Medway",                         "GB-MTY" => "Merthyr Tydfil",                         "GB-MRT" => "Merton",                         "GB-MDB" => "Middlesbrough",                         "GB-MLN" => "Midlothian",                         "GB-MIK" => "Milton Keynes",                         "GB-MON" => "Monmouthshire",                         "GB-MRY" => "Moray",                         "GB-MYL" => "Moyle",                         "GB-NTL" => "Neath Port Talbot",                         "GB-NET" => "Newcastle upon Tyne",                         "GB-NWM" => "Newham",                         "GB-NWP" => "Newport",                         "GB-NYM" => "Newry and Mourne",                         "GB-NTA" => "Newtownabbey",                         "GB-NFK" => "Norfolk",                         "GB-NAY" => "North Ayrshire",                         "GB-NDN" => "North Down",                         "GB-NEL" => "North East Lincolnshire",                         "GB-NLK" => "North Lanarkshire",                         "GB-NLN" => "North Lincolnshire",                         "GB-NSM" => "North Somerset",                         "GB-NTY" => "North Tyneside",                         "GB-NYK" => "North Yorkshire",                         "GB-NTH" => "Northamptonshire",                         "GB-NBL" => "Northumberland",                         "GB-NGM" => "Nottingham",                         "GB-NTT" => "Nottinghamshire",                         "GB-OLD" => "Oldham",                         "GB-OMH" => "Omagh",                         "GB-ORK" => "Orkney Islands",                         "GB-OXF" => "Oxfordshire",                         "GB-PEM" => "Pembrokeshire",                         "GB-PKN" => "Perth and Kinross",                         "GB-PTE" => "Peterborough",                         "GB-PLY" => "Plymouth",                         "GB-POL" => "Poole",                         "GB-POR" => "Portsmouth",                         "GB-POW" => "Powys",                         "GB-RDG" => "Reading",                         "GB-RDB" => "Redbridge",                         "GB-RCC" => "Redcar and Cleveland",                         "GB-RFW" => "Renfrewshire",                         "GB-RCT" => "Rhondda Cynon Taff",                         "GB-RIC" => "Richmond upon Thames",                         "GB-RCH" => "Rochdale",                         "GB-ROT" => "Rotherham",                         "GB-RUT" => "Rutland",                         "GB-SLF" => "Salford",                         "GB-SAW" => "Sandwell",                         "GB-SCB" => "Scottish Borders, The",                         "GB-SFT" => "Sefton",                         "GB-SHF" => "Sheffield",                         "GB-ZET" => "Shetland Islands",                         "GB-SHR" => "Shropshire",                         "GB-SLG" => "Slough",                         "GB-SOL" => "Solihull",                         "GB-SOM" => "Somerset",                         "GB-SAY" => "South Ayrshire",                         "GB-SGC" => "South Gloucestershire",                         "GB-SLK" => "South Lanarkshire",                         "GB-STY" => "South Tyneside",                         "GB-STH" => "Southampton",                         "GB-SOS" => "Southend-on-Sea",                         "GB-SWK" => "Southwark",                         "GB-SHN" => "St. Helens",                         "GB-STS" => "Staffordshire",                         "GB-STG" => "Stirling",                         "GB-SKP" => "Stockport",                         "GB-STT" => "Stockton-on-Tees",                         "GB-STE" => "Stoke-on-Trent",                         "GB-STB" => "Strabane",                         "GB-SFK" => "Suffolk",                         "GB-SND" => "Sunderland",                         "GB-SRY" => "Surrey",                         "GB-STN" => "Sutton",                         "GB-SWA" => "Swansea",                         "GB-SWD" => "Swindon",                         "GB-TAM" => "Tameside",                         "GB-TFW" => "Telford and Wrekin",                         "GB-THR" => "Thurrock",                         "GB-TOB" => "Torbay",                         "GB-TOF" => "Torfaen",                         "GB-TWH" => "Tower Hamlets",                         "GB-TRF" => "Trafford",                         "GB-VGL" => "Vale of Glamorgan, The",                         "GB-WKF" => "Wakefield",                         "GB-WLL" => "Walsall",                         "GB-WFT" => "Waltham Forest",                         "GB-WND" => "Wandsworth",                         "GB-WRT" => "Warrington",                         "GB-WAR" => "Warwickshire",                         "GB-WBK" => "West Berkshire",                         "GB-WDU" => "West Dunbartonshire",                         "GB-WLN" => "West Lothian",                         "GB-WSX" => "West Sussex",                         "GB-WSM" => "Westminster",                         "GB-WGN" => "Wigan",                         "GB-WIL" => "Wiltshire",                         "GB-WNM" => "Windsor and Maidenhead",                         "GB-WRL" => "Wirral",                         "GB-WOK" => "Wokingham",                         "GB-WLV" => "Wolverhampton","GB-WOC" => "Worcester","GB-WOR" => "Worcestershire", "GB-WRX" => "Wrexham", "GB-YOR" => "York"]
	];
	public $countryISOCodes = ["AF" =>	"AFGHANISTAN",											"AX" =>	"ÅLAND ISLANDS",											"AL" =>	"ALBANIA",											"DZ" =>	"ALGERIA",											"AS" =>	"AMERICAN SAMOA",											"AD" =>	"ANDORRA",											"AO" =>	"ANGOLA",											"AI" =>	"ANGUILLA",											"AQ" =>	"ANTARCTICA",											"AG" =>	"ANTIGUA AND BARBUDA",											"AR" =>	"ARGENTINA",											"AM" =>	"ARMENIA",											"AW" =>	"ARUBA",											"AU" =>	"AUSTRALIA",											"AT" =>	"AUSTRIA",											"AZ" =>	"AZERBAIJAN",											"BS" =>	"BAHAMAS",											"BH" =>	"BAHRAIN",											"BD" =>	"BANGLADESH",											"BB" =>	"BARBADOS",											"BY" =>	"BELARUS",											"BE" =>	"BELGIUM",											"BZ" =>	"BELIZE",											"BJ" =>	"BENIN",											"BM" =>	"BERMUDA",											"BT" =>	"BHUTAN",											"BO" =>	"BOLIVIA, PLURINATIONAL STATE OF",											"BQ" =>	"BONAIRE, SINT EUSTATIUS AND SABA",											"BA" =>	"BOSNIA AND HERZEGOVINA",											"BW" =>	"BOTSWANA",											"BV" =>	"BOUVET ISLAND",											"BR" =>	"BRAZIL",											"IO" =>	"BRITISH INDIAN OCEAN TERRITORY",											"BN" =>	"BRUNEI DARUSSALAM",											"BG" =>	"BULGARIA",											"BF" =>	"BURKINA FASO",											"BI" =>	"BURUNDI",											"KH" =>	"CAMBODIA",											"CM" =>	"CAMEROON",											"CA" =>	"CANADA",											"CV" =>	"CAPE VERDE",											"KY" =>	"CAYMAN ISLANDS",											"CF" =>	"CENTRAL AFRICAN REPUBLIC",											"TD" =>	"CHAD",											"CL" =>	"CHILE",											"CN" =>	"CHINA",											"CX" =>	"CHRISTMAS ISLAND",											"CC" =>	"COCOS (KEELING) ISLANDS",											"CO" =>	"COLOMBIA",											"KM" =>	"COMOROS",											"CG" =>	"CONGO",											"CD" =>	"CONGO, THE DEMOCRATIC REPUBLIC OF THE",											"CK" =>	"COOK ISLANDS",											"CR" =>	"COSTA RICA",											"CI" =>	"CÔTE D'IVOIRE",											"HR" =>	"CROATIA",											"CU" =>	"CUBA",											"CW" =>	"CURAÇAO",											"CY" =>	"CYPRUS",											"CZ" =>	"CZECH REPUBLIC",											"DK" =>	"DENMARK",											"DJ" =>	"DJIBOUTI",											"DM" =>	"DOMINICA",											"DO" =>	"DOMINICAN REPUBLIC",											"EC" =>	"ECUADOR",											"EG" =>	"EGYPT",											"SV" =>	"EL SALVADOR",											"GQ" =>	"EQUATORIAL GUINEA",											"ER" =>	"ERITREA",											"EE" =>	"ESTONIA",											"ET" =>	"ETHIOPIA",											"FK" =>	"FALKLAND ISLANDS (MALVINAS)",											"FO" =>	"FAROE ISLANDS",											"FJ" =>	"FIJI",											"FI" =>	"FINLAND",											"FR" =>	"FRANCE",											"GF" =>	"FRENCH GUIANA",											"PF" =>	"FRENCH POLYNESIA",											"TF" =>	"FRENCH SOUTHERN TERRITORIES",											"GA" =>	"GABON",											"GM" =>	"GAMBIA",											"GE" =>	"GEORGIA",											"DE" =>	"GERMANY",											"GH" =>	"GHANA",											"GI" =>	"GIBRALTAR",											"GR" =>	"GREECE",											"GL" =>	"GREENLAND",											"GD" =>	"GRENADA",											"GP" =>	"GUADELOUPE",											"GU" =>	"GUAM",											"GT" =>	"GUATEMALA",											"GG" =>	"GUERNSEY",											"GN" =>	"GUINEA",											"GW" =>	"GUINEA-BISSAU",											"GY" =>	"GUYANA",											"HT" =>	"HAITI",											"HM" =>	"HEARD ISLAND AND MCDONALD ISLANDS",											"VA" =>	"HOLY SEE (VATICAN CITY STATE)",											"HN" =>	"HONDURAS",											"HK" =>	"HONG KONG",											"HU" =>	"HUNGARY",											"IS" =>	"ICELAND",											"IN" =>	"INDIA",											"ID" =>	"INDONESIA",											"IR" =>	"IRAN, ISLAMIC REPUBLIC OF",											"IQ" =>	"IRAQ",											"IE" =>	"IRELAND",											"IM" =>	"ISLE OF MAN",											"IL" =>	"ISRAEL",											"IT" =>	"ITALY",											"JM" =>	"JAMAICA",											"JP" =>	"JAPAN",											"JE" =>	"JERSEY",											"JO" =>	"JORDAN",											"KZ" =>	"KAZAKHSTAN",											"KE" =>	"KENYA",											"KI" =>	"KIRIBATI",											"KP" =>	"KOREA, DEMOCRATIC PEOPLE'S REPUBLIC OF",											"KR" =>	"KOREA, REPUBLIC OF",											"KW" =>	"KUWAIT",											"KG" =>	"KYRGYZSTAN",											"LA" =>	"LAO PEOPLE'S DEMOCRATIC REPUBLIC",											"LV" =>	"LATVIA",											"LB" =>	"LEBANON",											"LS" =>	"LESOTHO",											"LR" =>	"LIBERIA",											"LY" =>	"LIBYA",											"LI" =>	"LIECHTENSTEIN",											"LT" =>	"LITHUANIA",											"LU" =>	"LUXEMBOURG",											"MO" =>	"MACAO",											"MK" =>	"MACEDONIA, THE FORMER YUGOSLAV REPUBLIC OF",											"MG" =>	"MADAGASCAR",											"MW" =>	"MALAWI",											"MY" =>	"MALAYSIA",											"MV" =>	"MALDIVES",											"ML" =>	"MALI",											"MT" =>	"MALTA",											"MH" =>	"MARSHALL ISLANDS",											"MQ" =>	"MARTINIQUE",											"MR" =>	"MAURITANIA",											"MU" =>	"MAURITIUS",											"YT" =>	"MAYOTTE",											"MX" =>	"MEXICO",											"FM" =>	"MICRONESIA, FEDERATED STATES OF",											"MD" =>	"MOLDOVA, REPUBLIC OF",											"MC" =>	"MONACO",											"MN" =>	"MONGOLIA",											"ME" =>	"MONTENEGRO",											"MS" =>	"MONTSERRAT",											"MA" =>	"MOROCCO",											"MZ" =>	"MOZAMBIQUE",											"MM" =>	"MYANMAR",											"NA" =>	"NAMIBIA",											"NR" =>	"NAURU",											"NP" =>	"NEPAL",											"NL" =>	"NETHERLANDS",											"NC" =>	"NEW CALEDONIA",											"NZ" =>	"NEW ZEALAND",											"NI" =>	"NICARAGUA",											"NE" =>	"NIGER",											"NG" =>	"NIGERIA",											"NU" =>	"NIUE",											"NF" =>	"NORFOLK ISLAND",											"MP" =>	"NORTHERN MARIANA ISLANDS",											"NO" =>	"NORWAY",											"OM" =>	"OMAN",											"PK" =>	"PAKISTAN",											"PW" =>	"PALAU",											"PS" =>	"PALESTINE, STATE OF",											"PA" =>	"PANAMA",											"PG" =>	"PAPUA NEW GUINEA",											"PY" =>	"PARAGUAY",											"PE" =>	"PERU",											"PH" =>	"PHILIPPINES",											"PN" =>	"PITCAIRN",											"PL" =>	"POLAND",											"PT" =>	"PORTUGAL",											"PR" =>	"PUERTO RICO",											"QA" =>	"QATAR",											"RE" =>	"RÉUNION",											"RO" =>	"ROMANIA",											"RU" =>	"RUSSIAN FEDERATION",											"RW" =>	"RWANDA",											"BL" =>	"SAINT BARTHÉLEMY",											"SH" =>	"SAINT HELENA, ASCENSION AND TRISTAN DA CUNHA",											"KN" =>	"SAINT KITTS AND NEVIS",											"LC" =>	"SAINT LUCIA",											"MF" =>	"SAINT MARTIN (FRENCH PART)",											"PM" =>	"SAINT PIERRE AND MIQUELON",											"VC" =>	"SAINT VINCENT AND THE GRENADINES",											"WS" =>	"SAMOA",											"SM" =>	"SAN MARINO",											"ST" =>	"SAO TOME AND PRINCIPE",											"SA" =>	"SAUDI ARABIA",											"SN" =>	"SENEGAL",											"RS" =>	"SERBIA",											"SC" =>	"SEYCHELLES",											"SL" =>	"SIERRA LEONE",											"SG" =>	"SINGAPORE",											"SX" =>	"SINT MAARTEN (DUTCH PART)",											"SK" =>	"SLOVAKIA",											"SI" =>	"SLOVENIA",											"SB" =>	"SOLOMON ISLANDS",											"SO" =>	"SOMALIA",											"ZA" =>	"SOUTH AFRICA",											"GS" =>	"SOUTH GEORGIA AND THE SOUTH SANDWICH ISLANDS",											"SS" =>	"SOUTH SUDAN",											"ES" =>	"SPAIN",											"LK" =>	"SRI LANKA",											"SD" =>	"SUDAN",											"SR" =>	"SURINAME",											"SJ" =>	"SVALBARD AND JAN MAYEN",											"SZ" =>	"SWAZILAND",											"SE" =>	"SWEDEN",											"CH" =>	"SWITZERLAND",											"SY" =>	"SYRIAN ARAB REPUBLIC",											"TW" =>	"TAIWAN, PROVINCE OF CHINA",											"TJ" =>	"TAJIKISTAN",											"TZ" =>	"TANZANIA, UNITED REPUBLIC OF",											"TH" =>	"THAILAND",											"TL" =>	"TIMOR-LESTE",											"TG" =>	"TOGO",											"TK" =>	"TOKELAU",											"TO" =>	"TONGA",											"TT" =>	"TRINIDAD AND TOBAGO",											"TN" =>	"TUNISIA",											"TR" =>	"TURKEY",											"TM" =>	"TURKMENISTAN",											"TC" =>	"TURKS AND CAICOS ISLANDS",											"TV" =>	"TUVALU",											"UG" =>	"UGANDA",											"UA" =>	"UKRAINE",											"AE" =>	"UNITED ARAB EMIRATES",											"GB" =>	"UNITED KINGDOM",											"US" =>	"UNITED STATES",											"UM" =>	"UNITED STATES MINOR OUTLYING ISLANDS",											"UY" =>	"URUGUAY",											"UZ" =>	"UZBEKISTAN",											"VU" =>	"VANUATU",											"VE" =>	"VENEZUELA, BOLIVARIAN REPUBLIC OF",											"VN" =>	"VIET NAM",											"VG" =>	"VIRGIN ISLANDS, BRITISH",											"VI" =>		"VIRGIN ISLANDS, U.S.",											"WF" =>	"WALLIS AND FUTUNA",											"EH" =>	"WESTERN SAHARA",											"YE" =>	"YEMEN",											"ZM" =>	"ZAMBIA",											"ZW" =>	"ZIMBABWE"];
	private $iso = null;
	function __construct($string)
	{
		$this->raw = $string;
		$this->iso = $this->detect($string);
	}
	/**
	 * Will do a simple string search for the specified string, and return the ISO code for that country
	 * @param string $c The search string
	 */
	public function detect($c)
	{
		$c = preg_replace("[^0-9A-Z ]", "", trim(strtoupper($c))); // cleany, we don't want random punctuation etc...
		if(isset($this->countryISOCodes[$c]))
			return $c;
		else
		{
			// string searcheroo
			foreach($this->countryISOCodes as $i => $country)
			{
				if(preg_match('/'.preg_quote($c).'/', $country))
					return $i;
			}
		}
		return false;
	}
	public function getStateAbbreviations($country = null)
	{
		if($country !== null)
		{
			$i = $this->detect($country);
			if(isset($this->stateAbbreviations[$i]))
				return $this->stateAbbreviations[$i];
		}
		else if (isset($this->stateAbbreviations[$this->iso]))
		{
			return $this->stateAbbreviations[$this->iso];
		}
		return []; // if not found above
	}
	public function getStateISOCodes($country = null)
	{
		if($country !== null)
		{
			$i = $this->detect($country);
			if(isset($this->stateISOCodes[$i]))
				return $this->stateISOCodes[$i];
		}
		else if (isset($this->stateISOCodes[$this->iso]))
		{
			return $this->stateISOCodes[$this->iso];
		}
		return []; // if not found above
	}
	public function code()
	{
		return $this->iso;
	}
	public function fullText($string = null)
	{
		if($string !== null)
		{
			$i = $this->detect($string);
			if(isset($this->countryISOCodes[$i]))
				return $this->countryISOCodes[$i];
		}
		else if (isset($this->countryISOCodes[$this->iso]))
		{
			return $this->countryISOCodes[$this->iso];
		}
		return null; // if not found above
	}
	public function __toString()
	{
		return $this->fullText();
	}
}
